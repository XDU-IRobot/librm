"use strict";(self.webpackChunklibrm_docs=self.webpackChunklibrm_docs||[]).push([[260],{721:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>s,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"tutorials/pid","title":"PID \u63a7\u5236\u5668","description":"\u672c\u4f8b\u7a0b\u6f14\u793a\u5982\u4f55\u4f7f\u7528 librm \u4e2d\u7684 PID \u7c7b\u5b9e\u73b0\u4f4d\u7f6e\u5f0f PID \u63a7\u5236\u3002","source":"@site/docs/tutorials/pid.mdx","sourceDirName":"tutorials","slug":"/tutorials/pid","permalink":"/tutorials/pid","draft":false,"unlisted":false,"editUrl":"https://github.com/XDU-IRobot/librm/tree/main/docs/docs/tutorials/pid.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u7535\u673a\u9a71\u52a8\u901f\u67e5","permalink":"/tutorials/motor-drivers"},"next":{"title":"\u88c1\u5224\u7cfb\u7edf\u4e32\u53e3","permalink":"/tutorials/referee"}}');var r=d(4848),t=d(8453);const l={},c="PID \u63a7\u5236\u5668",s={},o=[{value:"\u57fa\u7840\u7528\u6cd5",id:"\u57fa\u7840\u7528\u6cd5",level:2},{value:"\u89d2\u5ea6\u63a7\u5236\uff08\u8fc7\u96f6\u70b9\u5904\u7406\uff09",id:"\u89d2\u5ea6\u63a7\u5236\u8fc7\u96f6\u70b9\u5904\u7406",level:2},{value:"\u901f\u5ea6\u63a7\u5236\uff08\u6307\u5b9a\u65f6\u95f4\u6b65\u957f\uff09",id:"\u901f\u5ea6\u63a7\u5236\u6307\u5b9a\u65f6\u95f4\u6b65\u957f",level:2},{value:"\u4e32\u7ea7 PID",id:"\u4e32\u7ea7-pid",level:2},{value:"\u5fae\u5206\u5148\u884c",id:"\u5fae\u5206\u5148\u884c",level:2},{value:"\u5fae\u5206\u6ee4\u6ce2",id:"\u5fae\u5206\u6ee4\u6ce2",level:2},{value:"\u53d8\u901f\u79ef\u5206",id:"\u53d8\u901f\u79ef\u5206",level:2},{value:"\u5916\u90e8\u5fae\u5206",id:"\u5916\u90e8\u5fae\u5206",level:2},{value:"\u6a21\u7cca PID",id:"\u6a21\u7cca-pid",level:2},{value:"\u83b7\u53d6\u72b6\u6001\u4fe1\u606f",id:"\u83b7\u53d6\u72b6\u6001\u4fe1\u606f",level:2},{value:"\u91cd\u7f6e\u63a7\u5236\u5668",id:"\u91cd\u7f6e\u63a7\u5236\u5668",level:2},{value:"\u52a8\u6001\u8c03\u6574\u53c2\u6570",id:"\u52a8\u6001\u8c03\u6574\u53c2\u6570",level:2},{value:"API \u53c2\u8003",id:"api-\u53c2\u8003",level:2},{value:"\u6784\u9020\u51fd\u6570",id:"\u6784\u9020\u51fd\u6570",level:3},{value:"\u4e3b\u8981\u65b9\u6cd5",id:"\u4e3b\u8981\u65b9\u6cd5",level:3},{value:"\u914d\u7f6e\u65b9\u6cd5\uff08\u53ef\u94fe\u5f0f\u8c03\u7528\uff09",id:"\u914d\u7f6e\u65b9\u6cd5\u53ef\u94fe\u5f0f\u8c03\u7528",level:3},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:2}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"pid-\u63a7\u5236\u5668",children:"PID \u63a7\u5236\u5668"})}),"\n",(0,r.jsxs)(n.p,{children:["\u672c\u4f8b\u7a0b\u6f14\u793a\u5982\u4f55\u4f7f\u7528 librm \u4e2d\u7684 ",(0,r.jsx)(n.code,{children:"PID"})," \u7c7b\u5b9e\u73b0\u4f4d\u7f6e\u5f0f PID \u63a7\u5236\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"PID"})," \u7c7b\u662f\u4e00\u4e2a\u529f\u80fd\u5b8c\u5584\u7684\u4f4d\u7f6e\u5f0f PID \u63a7\u5236\u5668\uff0c\u5b9e\u73b0\u4e86\u68af\u5f62\u79ef\u5206\u3001\u53d8\u901f\u79ef\u5206\u3001\u5fae\u5206\u5148\u884c\u3001\u5fae\u5206\u6ee4\u6ce2\u3001\u8fc7\u96f6\u70b9\u5904\u7406\u3001\u6a21\u7cca PID \u7b49\u9ad8\u7ea7\u7279\u6027\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u57fa\u7840\u7528\u6cd5",children:"\u57fa\u7840\u7528\u6cd5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:'#include "can.h"\n#include "cmsis_os.h"\n\n#include <librm.hpp>\n\nextern "C" void MotorControlTask(const void *pv_arg) {\n  rm::hal::Can can1(hcan1);\n  rm::device::GM6020 motor(can1, 1);\n  can1.SetFilter(0, 0);\n  can1.Begin();\n\n  // \u521b\u5efa PID \u63a7\u5236\u5668\n  // \u53c2\u6570\uff1akp, ki, kd, max_out, max_iout\n  rm::modules::PID pid(5, 0, 0, 30000, 0);\n\n  for (;;) {\n    // \u66f4\u65b0 PID\uff1a\u76ee\u6807\u503c 3000\uff0c\u53cd\u9988\u503c\u4e3a\u7535\u673a\u7f16\u7801\u5668\u503c\n    pid.Update(3000, motor.encoder());\n\n    // \u8f93\u51fa\u5230\u7535\u673a\n    motor.SetCurrent(static_cast<int16_t>(pid.out()));\n    rm::device::DjiMotor<>::SendCommand();\n\n    osDelay(1);\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u89d2\u5ea6\u63a7\u5236\u8fc7\u96f6\u70b9\u5904\u7406",children:"\u89d2\u5ea6\u63a7\u5236\uff08\u8fc7\u96f6\u70b9\u5904\u7406\uff09"}),"\n",(0,r.jsx)(n.p,{children:"\u7f16\u7801\u5668\u89d2\u5ea6\u63a7\u5236\u7ecf\u5e38\u9047\u5230\u4ece 8191 \u8df3\u5230 0 \u7684\u8fc7\u96f6\u95ee\u9898\uff0c\u4f7f\u7528\u5faa\u73af\u6a21\u5f0f\u53ef\u81ea\u52a8\u5904\u7406\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID pid(5, 0, 0, 30000, 0);\npid.SetCircular(true).SetCircularCycle(8191);  // \u542f\u7528\u5faa\u73af\u6a21\u5f0f\uff0c\u5468\u671f\u4e3a 8191\n\nfor (;;) {\n  // \u76ee\u6807 100\uff0c\u5f53\u524d 8000 \u65f6\uff0c\u8bef\u5dee\u4f1a\u88ab\u8ba1\u7b97\u4e3a 292 \u800c\u4e0d\u662f -7900\n  pid.Update(100, motor.encoder());\n  motor.SetCurrent(static_cast<int16_t>(pid.out()));\n  rm::device::DjiMotor<>::SendCommand();\n  osDelay(1);\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u901f\u5ea6\u63a7\u5236\u6307\u5b9a\u65f6\u95f4\u6b65\u957f",children:"\u901f\u5ea6\u63a7\u5236\uff08\u6307\u5b9a\u65f6\u95f4\u6b65\u957f\uff09"}),"\n",(0,r.jsxs)(n.p,{children:["\u901f\u5ea6\u73af\u5efa\u8bae\u6307\u5b9a\u65f6\u95f4\u6b65\u957f ",(0,r.jsx)(n.code,{children:"dt"}),"\uff0c\u4ee5\u83b7\u5f97\u51c6\u786e\u7684\u5fae\u5206\u548c\u79ef\u5206\u8ba1\u7b97\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID velocity_pid(10, 0.5, 0, 16384, 5000);\n\nconst float dt = 0.001f;  // 1ms \u63a7\u5236\u5468\u671f\n\nfor (;;) {\n  float target_vel = GetTargetVelocity();\n  float current_vel = motor.velocity();\n\n  // \u4f20\u5165 dt \u53c2\u6570\n  velocity_pid.Update(target_vel, current_vel, dt);\n\n  motor.SetCurrent(static_cast<int16_t>(velocity_pid.out()));\n  rm::device::DjiMotor<>::SendCommand();\n  osDelay(1);\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4e32\u7ea7-pid",children:"\u4e32\u7ea7 PID"}),"\n",(0,r.jsx)(n.p,{children:"\u4f4d\u7f6e\u73af + \u901f\u5ea6\u73af\u7684\u4e32\u7ea7\u63a7\u5236\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID position_pid(0.5, 0, 0, 100, 0);    // \u5916\u73af\uff1a\u4f4d\u7f6e\nrm::modules::PID velocity_pid(10, 0.5, 0, 16384, 5000);  // \u5185\u73af\uff1a\u901f\u5ea6\n\nposition_pid.SetCircular(true).SetCircularCycle(8191);\n\nconst float dt = 0.001f;\n\nfor (;;) {\n  float target_pos = GetTargetPosition();\n\n  // \u5916\u73af\u8f93\u51fa\u4f5c\u4e3a\u5185\u73af\u76ee\u6807\n  position_pid.Update(target_pos, motor.angle(), dt);\n  float target_vel = position_pid.out();\n\n  // \u5185\u73af\u63a7\u5236\n  velocity_pid.Update(target_vel, motor.velocity(), dt);\n\n  motor.SetCurrent(static_cast<int16_t>(velocity_pid.out()));\n  rm::device::DjiMotor<>::SendCommand();\n  osDelay(1);\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5fae\u5206\u5148\u884c",children:"\u5fae\u5206\u5148\u884c"}),"\n",(0,r.jsx)(n.p,{children:"\u9632\u6b62\u76ee\u6807\u503c\u7a81\u53d8\u5bfc\u81f4\u5fae\u5206\u9879\u5267\u70c8\u6296\u52a8\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID pid(5, 0.1, 0.5, 30000, 5000);\npid.SetDiffFirst(true);  // \u542f\u7528\u5fae\u5206\u5148\u884c\n\n// \u5fae\u5206\u9879\u8ba1\u7b97\u53cd\u9988\u503c\u7684\u53d8\u5316\u7387\uff0c\u800c\u4e0d\u662f\u8bef\u5dee\u7684\u53d8\u5316\u7387\n// \u9002\u7528\u4e8e\u76ee\u6807\u503c\u9891\u7e41\u8df3\u53d8\u7684\u573a\u666f\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5fae\u5206\u6ee4\u6ce2",children:"\u5fae\u5206\u6ee4\u6ce2"}),"\n",(0,r.jsx)(n.p,{children:"\u5bf9\u5fae\u5206\u9879\u8fdb\u884c\u4f4e\u901a\u6ee4\u6ce2\uff0c\u51cf\u5c0f\u9ad8\u9891\u566a\u58f0\u5f71\u54cd\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID pid(5, 0.1, 0.5, 30000, 5000);\npid.SetDiffLpfAlpha(0.3f);  // \u6ee4\u6ce2\u7cfb\u6570\uff0c(0, 1]\uff0c\u8d8a\u5c0f\u6ee4\u6ce2\u8d8a\u5f3a\n\n// \u9ed8\u8ba4\u4e3a 1.0\uff08\u4e0d\u6ee4\u6ce2\uff09\n// \u5efa\u8bae\u8303\u56f4\uff1a0.1 ~ 0.5\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u53d8\u901f\u79ef\u5206",children:"\u53d8\u901f\u79ef\u5206"}),"\n",(0,r.jsx)(n.p,{children:"\u8bef\u5dee\u5927\u65f6\u51cf\u5c0f\u79ef\u5206\u4f5c\u7528\uff0c\u9632\u6b62\u79ef\u5206\u9971\u548c\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID pid(5, 0.5, 0, 30000, 5000);\npid.SetDynamicKi(true);  // \u542f\u7528\u53d8\u901f\u79ef\u5206\n\n// ki \u4f1a\u6839\u636e\u8bef\u5dee\u5927\u5c0f\u81ea\u52a8\u8c03\u6574\uff1aki_actual = ki / (1 + |error|)\n// \u8bef\u5dee\u5c0f\u65f6\u79ef\u5206\u5f3a\uff0c\u8bef\u5dee\u5927\u65f6\u79ef\u5206\u5f31\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5916\u90e8\u5fae\u5206",children:"\u5916\u90e8\u5fae\u5206"}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u5916\u90e8\u4f20\u611f\u5668\uff08\u5982 IMU\uff09\u63d0\u4f9b\u5fae\u5206\u4fe1\u53f7\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID pid(5, 0.1, 0.5, 30000, 5000);\n\nfor (;;) {\n  float target_angle = GetTargetAngle();\n  float current_angle = motor.angle();\n  float angular_velocity = imu.gyro_z();  // \u4f7f\u7528\u9640\u87ba\u4eea\u89d2\u901f\u5ea6\n\n  // \u4f7f\u7528\u5916\u90e8\u5fae\u5206\u4fe1\u53f7\n  pid.UpdateExtDiff(target_angle, current_angle, angular_velocity, dt);\n\n  motor.SetCurrent(static_cast<int16_t>(pid.out()));\n  rm::device::DjiMotor<>::SendCommand();\n  osDelay(1);\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u6a21\u7cca-pid",children:"\u6a21\u7cca PID"}),"\n",(0,r.jsx)(n.p,{children:"\u81ea\u9002\u5e94\u8c03\u6574 PID \u53c2\u6570\uff0c\u63d0\u5347\u63a7\u5236\u6027\u80fd\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID pid(5, 0.1, 0.5, 30000, 5000);\npid.SetFuzzy(true);              // \u542f\u7528\u6a21\u7cca PID\npid.SetFuzzyErrorScale(1);    // \u8bef\u5dee\u5c3a\u5ea6\u56e0\u5b50\uff1a\u5de5\u4f5c\u4e2d\u4f1a\u51fa\u73b0\u7684\u8bef\u5dee\u8303\u56f4\u3002\u6bd4\u5982\u8bf4\u4e91\u53f0\u63a7\u5236\u4efb\u52a1\u53ef\u80fd\u4f1a\u51fa\u73b0 \xb145 \u5ea6\u7684\u8bef\u5dee\uff0c\u8fd9\u91cc\u5c31\u8bbe\u7f6e\u4e3a 45\npid.SetFuzzyDErrorScale(1);    // \u540c\u4e0a\uff0c\u4f46\u662f\u662f\u9488\u5bf9\u8bef\u5dee\u53d8\u5316\u7387\uff0c\u4e5f\u5c31\u662f derror\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u83b7\u53d6\u72b6\u6001\u4fe1\u606f",children:"\u83b7\u53d6\u72b6\u6001\u4fe1\u606f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID pid(5, 0.1, 0.5, 30000, 5000);\n\npid.Update(target, feedback, dt);\n\n// \u83b7\u53d6\u5404\u9879\u8f93\u51fa\nfloat output = pid.out();       // \u603b\u8f93\u51fa\nfloat p_term = pid.p_out();     // P \u9879\nfloat i_term = pid.i_out();     // I \u9879\nfloat d_term = pid.d_out()[0];  // D \u9879\uff08\u5f53\u524d\uff09\n\n// \u83b7\u53d6\u8bef\u5dee\nfloat error = pid.error()[0];      // \u5f53\u524d\u8bef\u5dee\nfloat last_error = pid.error()[1]; // \u4e0a\u6b21\u8bef\u5dee\n\n// \u83b7\u53d6\u53c2\u6570\nfloat kp = pid.kp();\nfloat ki = pid.ki();\nfloat kd = pid.kd();\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u91cd\u7f6e\u63a7\u5236\u5668",children:"\u91cd\u7f6e\u63a7\u5236\u5668"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u5207\u6362\u63a7\u5236\u6a21\u5f0f\u6216\u91cd\u65b0\u5f00\u59cb\u63a7\u5236\u65f6\uff0c\u6e05\u9664\u5386\u53f2\u72b6\u6001\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID pid(5, 0.1, 0.5, 30000, 5000);\n\n// \u4f7f\u7528\u4e00\u6bb5\u65f6\u95f4\u540e...\n\n// \u6e05\u9664\u6240\u6709\u5386\u53f2\u72b6\u6001\uff08\u8bef\u5dee\u3001\u79ef\u5206\u3001\u5fae\u5206\u7b49\uff09\npid.Clear();\n\n// \u91cd\u65b0\u5f00\u59cb\u63a7\u5236\nfor (;;) {\n  pid.Update(new_target, feedback, dt);\n  // ...\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u52a8\u6001\u8c03\u6574\u53c2\u6570",children:"\u52a8\u6001\u8c03\u6574\u53c2\u6570"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"rm::modules::PID pid(5, 0.1, 0.5, 30000, 5000);\n\n// \u94fe\u5f0f\u8c03\u7528\u8bbe\u7f6e\u53c2\u6570\npid.SetKp(10)\n   .SetKi(0.2)\n   .SetKd(1.0)\n   .SetMaxOut(20000)\n   .SetMaxIout(3000);\n\n// \u4e5f\u53ef\u4ee5\u5206\u5f00\u8bbe\u7f6e\nif (high_precision_mode) {\n  pid.SetKp(15);\n  pid.SetKd(2.0);\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"api-\u53c2\u8003",children:"API \u53c2\u8003"}),"\n",(0,r.jsx)(n.h3,{id:"\u6784\u9020\u51fd\u6570",children:"\u6784\u9020\u51fd\u6570"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"PID(f32 kp, f32 ki, f32 kd, f32 max_out, f32 max_iout);\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"kp"}),": \u6bd4\u4f8b\u7cfb\u6570"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ki"}),": \u79ef\u5206\u7cfb\u6570"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"kd"}),": \u5fae\u5206\u7cfb\u6570"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"max_out"}),": \u6700\u5927\u8f93\u51fa\u9650\u5e45"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"max_iout"}),": \u6700\u5927\u79ef\u5206\u9650\u5e45"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u4e3b\u8981\u65b9\u6cd5",children:"\u4e3b\u8981\u65b9\u6cd5"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u65b9\u6cd5"}),(0,r.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"void Update(f32 set, f32 ref, f32 dt = 1.f)"})}),(0,r.jsx)(n.td,{children:"\u66f4\u65b0 PID \u8f93\u51fa"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"void UpdateExtDiff(f32 set, f32 ref, f32 external_diff, f32 dt = 1.f)"})}),(0,r.jsx)(n.td,{children:"\u4f7f\u7528\u5916\u90e8\u5fae\u5206\u4fe1\u53f7\u66f4\u65b0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"void Clear()"})}),(0,r.jsx)(n.td,{children:"\u6e05\u9664\u5386\u53f2\u72b6\u6001"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"f32 out()"})}),(0,r.jsx)(n.td,{children:"\u83b7\u53d6\u603b\u8f93\u51fa"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"f32 p_out()"})}),(0,r.jsx)(n.td,{children:"\u83b7\u53d6 P \u9879\u8f93\u51fa"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"f32 i_out()"})}),(0,r.jsx)(n.td,{children:"\u83b7\u53d6 I \u9879\u8f93\u51fa"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"const f32* d_out()"})}),(0,r.jsx)(n.td,{children:"\u83b7\u53d6 D \u9879\u8f93\u51fa\uff08\u6570\u7ec4\uff0c0 \u4e3a\u5f53\u524d\uff0c1 \u4e3a\u4e0a\u6b21\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"const f32* error()"})}),(0,r.jsx)(n.td,{children:"\u83b7\u53d6\u8bef\u5dee\uff08\u6570\u7ec4\uff0c0 \u4e3a\u5f53\u524d\uff0c1 \u4e3a\u4e0a\u6b21\uff09"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u914d\u7f6e\u65b9\u6cd5\u53ef\u94fe\u5f0f\u8c03\u7528",children:"\u914d\u7f6e\u65b9\u6cd5\uff08\u53ef\u94fe\u5f0f\u8c03\u7528\uff09"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u65b9\u6cd5"}),(0,r.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"SetKp(f32)"})," / ",(0,r.jsx)(n.code,{children:"SetKi(f32)"})," / ",(0,r.jsx)(n.code,{children:"SetKd(f32)"})]}),(0,r.jsx)(n.td,{children:"\u8bbe\u7f6e PID \u53c2\u6570"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"SetMaxOut(f32)"})," / ",(0,r.jsx)(n.code,{children:"SetMaxIout(f32)"})]}),(0,r.jsx)(n.td,{children:"\u8bbe\u7f6e\u8f93\u51fa\u548c\u79ef\u5206\u9650\u5e45"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SetCircular(bool)"})}),(0,r.jsx)(n.td,{children:"\u542f\u7528/\u7981\u7528\u5faa\u73af\u6a21\u5f0f"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SetCircularCycle(f32)"})}),(0,r.jsx)(n.td,{children:"\u8bbe\u7f6e\u5faa\u73af\u5468\u671f"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SetDiffFirst(bool)"})}),(0,r.jsx)(n.td,{children:"\u542f\u7528/\u7981\u7528\u5fae\u5206\u5148\u884c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SetDynamicKi(bool)"})}),(0,r.jsx)(n.td,{children:"\u542f\u7528/\u7981\u7528\u53d8\u901f\u79ef\u5206"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SetDiffLpfAlpha(f32)"})}),(0,r.jsx)(n.td,{children:"\u8bbe\u7f6e\u5fae\u5206\u6ee4\u6ce2\u7cfb\u6570 (0, 1]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SetFuzzy(bool)"})}),(0,r.jsx)(n.td,{children:"\u542f\u7528/\u7981\u7528\u6a21\u7cca PID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SetFuzzyErrorScale(f32)"})}),(0,r.jsx)(n.td,{children:"\u8bbe\u7f6e\u6a21\u7cca PID \u8bef\u5dee\u5c3a\u5ea6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SetFuzzyDErrorScale(f32)"})}),(0,r.jsx)(n.td,{children:"\u8bbe\u7f6e\u6a21\u7cca PID \u8bef\u5dee\u53d8\u5316\u7387\u5c3a\u5ea6"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u6ce8\u610f\u4e8b\u9879",children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u79ef\u5206\u9650\u5e45 ",(0,r.jsx)(n.code,{children:"max_iout"})," \u5e94\u5c0f\u4e8e\u603b\u8f93\u51fa\u9650\u5e45 ",(0,r.jsx)(n.code,{children:"max_out"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"Clear()"})," \u65b9\u6cd5\u4f1a\u6e05\u9664\u79ef\u5206\u7d2f\u79ef\uff0c\u53ef\u80fd\u5bfc\u81f4\u77ac\u95f4\u8f93\u51fa\u8df3\u53d8"]}),"\n"]})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,d)=>{d.d(n,{R:()=>l,x:()=>c});var i=d(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);